@page "/"
@using TaskManagementWeb.Services
@inject AuthService Auth
@inject NavigationManager Nav

@if (!Auth.IsAuthenticated)
{
    <div class="text-center py-5">
        <h1>Welcome to Task Manager</h1>
        <p class="lead">Please log in to view your dashboard or register to get started.</p>
        <button class="btn btn-primary me-2" @onclick='() => Nav.NavigateTo("/login")'>Login</button>
        <button class="btn btn-outline-secondary" @onclick='() => Nav.NavigateTo("/register")'>Register</button>
    </div>
}

@code {
    protected override void OnInitialized()
    {
        if (Auth.IsAuthenticated)
        {
            Nav.NavigateTo("/projects", true);
        }
    }
}